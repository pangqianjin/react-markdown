(this["webpackJsonpmd-editor"]=this["webpackJsonpmd-editor"]||[]).push([[0],{343:function(e,t,n){},344:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(29),r=n.n(l),c=(n(74),n(75),n(76),n(68)),s=n(45),o=n(30),d=n(31),u=n(38),h=n(37),f=n(17),b=n.n(f),v=n(61),j=n.n(v),p=n(44),y=n.n(p),S=(n(60),new j.a({html:!0,xhtmlOut:!0,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,quotes:"\u201c\u201d\u2018\u2019",highlight:function(e,t){if(t&&y.a.getLanguage(t))try{return'<pre class="hljs"><code>'+y.a.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+S.utils.escapeHtml(e)+"</code></pre>"}})),m=S,g=function(e){var t=e.split("\n");t=t.map((function(e){return e+"\n"}));var n=new File(t,"demo.md"),a=URL.createObjectURL(n);fetch(a).then((function(e){return e.blob()})).then((function(e){var t=document.createElement("a");document.body.appendChild(t),t.style.display="none";var n=window.URL.createObjectURL(e);t.href=n,t.download="demo.md",t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(n)}))},O=(n(343),n(344),n(7)),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={value:"",lastValues:[],htmlString:"",shift:!1,ctrl:!0},e.onChange=function(t){var n=t.target.value;e.setState({value:n}),e.setHtmlString(n)},e.setHtmlString=function(t){var n=m.render(t);e.setState({htmlString:n})},e.handleKeydown=function(t){var n=t.keyCode,a=e.state,i=a.shift,l=a.ctrl;if(17===n&&e.setState({ctrl:!0}),16===n&&e.setState({shift:!0}),i&&l)73===n&&(t.preventDefault(),e.addStyles("![ ]( )","",!1)),75===n&&(t.preventDefault(),e.addStyles("```\n\n","```",!1));else if(l)if(66===n)e.addStyles("**","**");else if(73===n)e.addStyles("*","*");else if(90===n){var r=e.state.lastValues,c=r.length;if(0!==c){var o=r[c-1];e.setState({value:o,lastValues:Object(s.a)(r.slice(0,c-1))})}}9===n&&(t.preventDefault(),e.addStyles("  ","  "))},e.handleKeydup=function(t){var n=t.keyCode;16===n?e.setState({shift:!1}):17===n&&e.setState({ctrl:!1})},e.addStyles=function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.state.value,l=e.editNode.resizableTextArea.textArea,r=l.selectionStart,c=l.selectionEnd;a?i=r===c?i.slice(0,r)+t+n+i.slice(c):i.slice(0,r)+t+i.slice(r,c)+n+i.slice(c):a||r!==c||(i=i.slice(0,r)+t+n+i.slice(c)),e.setState({value:i}),e.editNode.resizableTextArea.textArea.focus()},e.download=function(){g(e.state.value)},e.dropFile=function(t){t.preventDefault();var n=t.dataTransfer.files[0],a=new FileReader;a.readAsText(n,"utf-8"),a.onload=function(){e.setState({value:"".concat(a.result)})}},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){var t=e.state,n=t.lastValues,a=t.value;n[n.length-1]!==a&&(e.setState({lastValues:[].concat(Object(s.a)(n),[a])}),e.setHtmlString(a))}),2e3),b.a.subscribe("addStyles",(function(t,n){var a=n.char1,i=n.char2,l=n.wrap;e.addStyles(a,i,l)})),b.a.subscribe("download",(function(){e.download()})),b.a.subscribe("clearAll",(function(){e.setState({value:""})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),b.a.unsubscribe("addStyles"),b.a.unsubscribe("download"),b.a.unsubscribe("clearAll")}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.htmlString;return Object(O.jsxs)("div",{id:"editor-body",children:[Object(O.jsx)(c.a.TextArea,{id:"editor",ref:function(t){return e.editNode=t},onKeyDown:this.handleKeydown,onKeyUp:this.handleKeydup,value:n,placeholder:"\u5c06\u4f60\u7684markdown\u6587\u4ef6\u62d6\u5230\u6b64\u5904\u6253\u5f00",onChange:this.onChange,autoSize:{minRows:24},bordered:!1,onDrop:this.dropFile,onDragOver:function(e){return e.preventDefault()}}),Object(O.jsx)("div",{id:"preview",dangerouslySetInnerHTML:{__html:a}})]})}}]),n}(a.Component),w=(n(48),n(15)),k=n(352),C=(n(347),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).save=function(){b.a.publish("download")},e.addStyles=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){b.a.publish("addStyles",{char1:e,char2:t,wrap:n})}},e.clearAll=function(){b.a.publish("clearAll")},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"header",children:[Object(O.jsx)(w.a,{onClick:this.save,type:"primary",children:"\u4fdd\u5b58"}),Object(O.jsx)(w.a,{onClick:this.clearAll,type:"primary",children:"\u6e05\u7a7a"}),Object(O.jsx)(w.a,{onClick:this.addStyles("**","**"),children:"\u52a0\u7c97"}),Object(O.jsx)(w.a,{onClick:this.addStyles("*","*"),children:"\u659c\u4f53"}),Object(O.jsx)(w.a,{onClick:this.addStyles("<u> "," </u>"),children:"\u4e0b\u5212\u7ebf"}),Object(O.jsx)(w.a,{onClick:this.addStyles("```\n\n","```",!1),children:"\u4ee3\u7801\u5757"}),Object(O.jsx)(w.a,{onClick:this.addStyles("\x3c!-- "," --\x3e"),children:"\u6ce8\u91ca"}),Object(O.jsx)(w.a,{onClick:this.addStyles("![ ]( )","",!1),children:"\u63d2\u5165\u56fe\u7247"}),Object(O.jsx)(w.a,{onClick:this.addStyles("[ ]( )","",!1),children:"\u8d85\u94fe\u63a5"}),Object(O.jsx)("a",{href:"https://github.com/pangqianjin",children:Object(O.jsx)(k.a,{style:{fontSize:"30px",margin:"0.25em"}})})]})}}]),n}(a.Component));var A=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(C,{id:"header"}),Object(O.jsx)(x,{id:"editor-body"})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,353)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),l(e),r(e)}))};r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),D()},74:function(e,t,n){},75:function(e,t,n){}},[[348,1,2]]]);
//# sourceMappingURL=main.9762353d.chunk.js.map